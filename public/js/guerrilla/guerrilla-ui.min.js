/*! guerrilla-ui 16-09-2015 */
var utils;utils={merge:$.extend,each:$.each,extend:function(a,b){function c(){this.constructor=a}var d;for(d in b)utils.hasProp.call(b,d)&&(a[d]=b[d]);return a.prototype=new c,c.prototype=b.prototype,a.__super__=b.prototype,a},fnRgx:/function[^(]*\(([^)]*)\)/,argRgx:/([^\s,]+)/g,hasProp:{}.hasOwnProperty,slice:[].slice,indexOf:[].indexOf||function(a){var b;for(b=0,b=this.length;1>b;b++)if(b in this&&this[b]===a)return b;return-1},arrLike:function(a){var b="length"in a&&a.length;return"function"!=typeof arr&&(0===b||"number"==typeof b&&b>0&&b-1 in a)},debounce:function(a,b,c){var d;return function(){var e=arguments;clearTimeout(d),d=setTimeout(can.proxy(function(){a.apply(this,e)},c||this),b)}},throttle:function(a,b,c){var d;return function(){var e=arguments,f=c||this;d||(d=!0,setTimeout(function(){a.apply(f,e),d=!1},b))}},defer:function(a,b){var c=arguments,d=b||this;setTimeout(function(){a.apply(d,c)},0)},hasArgs:function(a,b){return b&&null!==b||(b=1),this.getArgumentNames(a).length>=b},isObj:function(a){return $.isPlainObject(a)},isArr:function(a){return $.isArray(a)},isFunc:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},isType:function(a,b,c){return typeof b!==a?"Error :: "+c+" must be of type "+a:void 0},isStr:function(a){return"string"==typeof a},isRetina:function(){return window.retina||window.devicePixelRatio>1},getObjectSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&(c+=1);return c},getPxValue:function(a,b){var c;switch(b){case"em":c=this.convertToEm(a);break;case"pt":c=this.convertToPt(a);break;default:c=a}return c},getRandomNumber:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},getArgumentNames:function(a){var b;return((null!==a&&null!==(b=a.toString().match(utils.fnRgx))?b[1]:void 0)||"").match(utils.argRgx)||[]},resizeWindow:function(a){a.height||(a=$(a)),$(function(){$(window).resize(function(){a.height($(window).height())}),$(window).resize()})},slugify:function(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},run:{all:function(a,b,c,d){var e,f;return a&&null!==a||(a=[]),f=function(){var c,d,f;for(f=[],c=0,d=a.length;d>c;c++)e=a[c],f.push(function(a){return function(c){return b(a,c)}}(e));return f}(),this.parallel(f,c,d)},parallel:function(a,b,c){var d,e,f,g,h,i,j,k,l;if(null===a?a=[]:null===b&&(b=function(){}),d=a.length,j=[],0===d)return b(null,j);for(e=[],f=!1,k=[],g=h=0,i=a.length;i>h;g=++h)l=a[g],k.push(function(a,g){var h,i;i=function(){var a,h;if(arguments[0],a=(h=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[g]=a,f=!0,!c)return b(e,j)}else j[g]=h.length<2?h[0]:h;return--d<=0?f?b(e,j):b(null,j):void 0};try{return a(i)}catch(k){return h=k,i(h)}}(l,g));return k},series:function(a,b,c){var d,e,f,g,h,i;return a&&null!==a||(a=[]),b&&null!==b||(b=function(){}),g=-1,d=a.length,i=[],0===d?b(null,i):(e=[],f=!1,(h=function(){var j,k,l;if(arguments[0],k=(l=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[g]=k,f=!0,!c)return b(e,i)}else g>-1&&(i[g]=l.length<2?l[0]:l);if(++g>=d)return f?b(e,i):b(null,i);try{return a[g](h)}catch(m){return j=m,h(j)}})())},first:function(a,b,c){var d,e,f,g,h;return null===a&&(a=[]),null===b&&(b=function(){}),f=-1,d=a.length,h=null,0===d?b(null):(e=[],(g=function(){var h,i,j;if(arguments[0],i=(j=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[f]=i,!c)return b(e)}else if(f>-1)return b(null,j.length<2?j[0]:j);if(++f>=d)return b(e);try{return a[f](g)}catch(k){return h=k,g(h)}})())},waterfall:function(a,b){var c,d;return c=-1,0===a.length?b():(d=function(){var e,f;return arguments[0],e=(f=2<=arguments.length)?utils.slice.call(arguments,1):[],null!==e?b(e):++c>=a.length?b.apply(null,[null].concat(utils.slice.call(f))):a[c].apply(a,utils.slice.call(f).concat([d]))})()}},clone:function(a){var b,c,d;if(a instanceof Array)b=function(){var b,c,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(d);return e}();else{b={};for(c in a)d=a[c],b[c]=d}return b},convertToEm:function(a){return a*this.getFontsize()},convertToPt:function(a){},convertBase:function(){var a=document.createElement(),b=a.getAttribute("style");return a.setAttribute("style",b+";font-size:1em !important"),base=this.getFontsize(),a.setAttribute("style",b),base},mix:function(a,b,c){var d,e,f,g;if(c===!0){e=[];for(d in a)g=a[d],e.push(b[d]=g);return e}f=[];for(d in a)g=a[d],b.hasOwnProperty(d)||e.push(b[d]=g);return e},mixin:function(a,b,c){switch(c&&null!==c||(c=!1),typeof b+"-"+typeof a){case"function-function":return this.mix(b.prototype,a.prototype,c);case"function-object":return this.mix(b.prototype,a,c);case"object-object":return this.mix(b,a,c);case"object-function":return this.mix(b,a.prototype,c)}},unique:function(a){var b="";for(a&&null!==a||(a=8);b.length<a;)b+=Math.random().toString(36).substr(2);return b.substr(0,a)},toArr:function(a){var b=[];return this.each(a,function(a,c){b[c]=a}),b},toObj:function(a){}};var Broker;Broker=function(){function a(a,b){this.cascade=b?!0:!1,this.channels={},utils.isObj(a)?this.install(a):a===!0&&(this.cascade=!0)}return a.prototype.bind=function(a,b){return function(){return a.apply(b,arguments)}},a.prototype.add=function(a,b,c){var d,e=this;return c&&null!==c||(c=this),this.channels[a]||(this.channels[a]=[]),d={event:a,context:c,callback:b||function(){}},{listen:function(){return e.channels[a].push(d),this},ignore:function(){return e.remove(a),this}}.listen()},a.prototype.remove=function(b,c){var d;switch(typeof b){case"string":"function"==typeof c&&a._delete(this,ch,c),"undefined"==typeof c&&a._delete(this,ch);break;case"function":for(d in this.channels)a._delete(this,d,ch);break;case"undefined":for(d in this.channels)a._delete(this,d);break;case"object":for(d in this.channels)a._delete(this,d,null,ch)}return this},a.prototype.fire=function(a,b,c,d){var e,f,g;return c&&null!==c||(c=function(){}),d&&null!==d||(d=a),b&&utils.isFunc(b)?c=b:(b=void 0,"string"!=typeof a?!1:(tasks=this._setup(b,a,d,this),utils.run.series(tasks,c(f),!0),this.cascade&&(g=a.split("/")).length>1&&(this.fireOrigin&&(e=d),this.fire(g.slice(0,-1).join("/"),b,c,e)),this))},a.prototype.install=function(a,b){var c,d;if(utils.isObj(a))for(c in this)d=this[c],b?a[c]=d:a[c]||(a[c]=d);return this},a.prototype._delete=function(a,b,c,d){var e;return null==a.channels[b]?a.channels[b]=function(){var b,f,g,h;for(g=a.channels[ch],h=[],b=0,f=g.length;f>b;b++)e=g[b],("undefined"!=typeof c&&null!==c?e.callback!==c:"undefined"!=typeof d&&null!==d?e.context!==d:e.context!==a)&&h.push(e);return h}():void 0},a.prototype._setup=function(a,b,c,d){var e,f,g,h,i=[];h=d.channels[b]||[],f=h.length;do g=h[e],i.push(function(b){return function(d){var e;try{return utils.hasArgs(b.callback,3)?b.callback.apply(b.context,[a,c,d]):d(null,b.callback.apply(b.context,[a,c]))}catch(f){return e=f,d(e)}}}(g)),e++;while(--f);return i},a}(this);var API;API=function(){var a="__";return{create:function(b,c,d,e){return this.id=c,this.module=e,this.options=null!==d?d:{},this.Broker=b._broker,this.utils=utils,this.xhr=$.ajax,this.each=utils.each,this.Animation=$.Animation,this.log=function(){return b.log(arguments)},this.debug=function(){return b._debug()},this.animate=function(a,b,c){void 0===c&&(c=1500),a.show().addClass(b),setTimeout(function(){a.removeClass(b)},c)},this.query=function(a,c){var d,e={},f=this;return d=c&&c.find?c.find(a):$(a),e=d,e.length=d.length,e.query=function(a){return f.query(a,d)},e.create=function(a){return utils.isStr(a)?document.createElement(a):(b.log("Error :: Element must be type String."),!1)},e.getFontsize=function(){return parseFloat(getComputedStyle(d).fontSize)},e},this.hitch=function(a){var b,c;return b=[].slice.call(arguments).splice(1),function(){return c=b.concat([].slice.call(arguments)),a.apply(this,c)}},this.fnCache=function(b,c,d){var e;return c=c||(c={}),function(f){return e=arguments.length>1?[].join.call(arguments,a):String(f),(!(e in c)||d&&c[e]===d)&&(c[e]=b.apply(b,arguments)),c[e]}},this}}};var GUI;GUI=function(a){function b(){this.history=[],this.config={name:"Guerrilla UI",version:"0.1.3",animations:!1,jquery:!0},this.configure=function(a){null!==a&&utils.isObj(a)&&(this.config=utils.extend(this.config,a))},this._modules={},this._plugins=[],this._instances={},this._sandboxes={},this._running={},this._broker=new Broker(this),this.Broker=Broker}if("undefined"==typeof a||null===a)throw new Error("Guerrilla UI requires jQuery library.");return b.prototype.log=function(){this.history.push(arguments),console&&console.log([].slice.call(arguments))},b.prototype._debug=function(){this.config.debug&&console.log(this.history)},b.prototype.create=function(a,b,c){var d;return c&&null!==c||(c={}),(d=utils.isType("string",a,"module ID")||utils.isType("function",b,"creator")||utils.isType("object",c,"option parameter"))?(this.log("could not register module '"+a+"': "+d),this):a in this._modules?(this.log("module "+a+" was already registered"),this):(this._modules[a]={id:a,creator:b,options:c},this)},b.prototype.extend=function(a,b,c){return c&&null!==c||(c={}),this._plugins.push({creator:a,options:c}),this},b.prototype.start=function(a,b,c){var d,f,g;return b&&null!==b||(b={}),c&&null!==c||(c=function(){}),0===arguments.length?this._startAll():a instanceof Array?this._startAll(a,b):"function"==typeof a?this._startAll(null,a):("function"==typeof b&&(c=b,b={}),(d=utils.isType("string",a,"module ID")||utils.isType("object",b,"second parameter")||(this._modules[a]?void 0:"module doesn't exist"))?this._fail(d,c):(f=b.instanceId||a,this._running[f]===!0?this._fail(new Error("module was already started"),c):(g=function(a){return function(b,d,g){if(b)return a._fail(b,c);try{return utils.hasArgs(d.load,2)?d.load(g,function(b){return b||(a._running[f]=!0),c(b)}):(d.load(g),a._running[f]=!0,c())}catch(h){return e=h,a._fail(e,c)}}}(this),this.boot(function(d){return function(e){return e?d._fail(e,c):d._createInstance(a,b,g)}}(this)))))},b.prototype.use=function(a,b){var c,d,e;if(a instanceof Array)for(c=0,d=a.length;d>c;c++)switch(e=a[c],typeof e){case"function":this.use(e);break;case"object":this.use(e.plugin,e.options)}else{if(!utils.isFunc(a))return this;this._plugins.push({creator:a,options:b})}return this},b.prototype.stop=function(a,b){var c;return null===cb&&(cb=function(){}),0===arguments.length||"function"==typeof a?utils.run.all(function(){var a,b=[];for(a in this._instances)b.push(a);return b}.call(this),function(a){return function(){return a.stop.apply(a,arguments)}}(this),a,!0):c===this._instances[a]&&(delete this._instances[a],this._broker.off(c),this._runSandboxPlugins("unload",this._sandboxes[a],function(b){return function(d){return utils.hasArgs(c.unload)?c.unload(function(c){return delete b._running[a],cb(d||c)}):("function"==typeof c.unload&&c.unload(),delete b._running[a],cb(d))}}(this))),this},b.prototype.plugin=function(c,d){c.fn&&"function"==typeof c.fn?a.fn[d.toLowerCase()]=function(a){return new c.fn(this,a)}:b.log("Error :: Missing "+c+" fn() method.")},b.prototype.boot=function(a){var b,c,d;return b=this,d=function(){var a,d,e,f;for(e=this._plugins,f=[],a=0,d=e.length;d>a;a++)c=e[a],c.booted!==!0&&f.push(function(a){return utils.hasArgs(a.creator,3)?function(c){var d;return a.creator(b,a.options,function(b){return b||(a.booted=!0,a.plugin=d),c()})}:function(c){return a.plugin=a.creator(b,a.options),a.booted=!0,c()}}(c));return f}.call(this),utils.run.series(d,a,!0),this},b.prototype._fail=function(a,b){return this.log(a),b(new Error("could not start module: "+a.message)),this},b.prototype._startAll=function(a,b){var c,d;return a&&null!==a||(a=function(){var a,b=[];for(a in this._modules)b.push(a);return b}.call(this)),d=function(a){return function(b,c){return a.start(b,a._modules[b].options,c)}}(this),c=function(c){var d,e,f,g,h,i,j;if((null!==c?c.length:void 0)>0){for(i={},e=f=0,g=c.length;g>f;e=++f)j=c[e],null!==j&&(i[a[e]]=j);h=function(){var a,b=[];for(a in i)b.push("'"+a+"'");return b}(),d=new Error("errors occurred in the following modules: "+h),d.moduleErrors=i}return"function"==typeof b?b(d):void 0},utils.run.all(a,d,c,!0),this},b.prototype._createInstance=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(k=b.options,e=b.instanceId||a,i=this._modules[a],this._instances[e])return c(this._instances[e]);for(d={},l=[i.options,k],f=0,h=l.length;h>f;f++)if(j=l[f])for(g in j)n=j[g],d[g]&&null!==d[g]||(d[g]=n);return m=(new API).create(this,e,d,a),this.config&&null!==this.config&&(m.config=this.config),this._runSandboxPlugins("load",m,function(a){return function(b){var f;return f=new i.creator(m),"function"!=typeof f.load?f.fn&&"function"==typeof f.fn?a.plugin(f,e):c(new Error("module has no 'load' or 'fn' method")):(a._instances[e]=f,a._sandboxes[e]=m,c(null,f,d))}}(this))},b.prototype._runSandboxPlugins=function(a,b,c){var d,e;return e=function(){var c,e,f,g,h;for(f=this._plugins,h=[],c=0,e=f.length;e>c;c++)d=f[c],"function"==typeof(null!==(g=d.plugin)?g[a]:void 0)&&h.push(function(c){var d;return d=c.plugin[a],function(a){return utils.hasArgs(d,3)?d(b,c.options,a):(d(b,c.options),a())}}(d));return h}.call(this),utils.run.series(e,c,!0)},b}(jQuery),function(a){var b;b=new GUI,a.GUI=function(){var a=[].slice.call(arguments),c=a[0]instanceof Object?a[0]:null,d=b;return c&&null!==c&&d.configure(c),d},a.fn.GUI=function(b){return this.each(function(){return a.data(this,"guerrilla")?(new a.GUI).create(this,b):void a.data(this,"guerrilla",(new a.GUI).create(this,b))})}}(jQuery),$.GUI().create("Misty",function(a){function b(a){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=a,this.draw=function(){return this.image?void this.context.drawImage(this.image,this.x-128,this.y-128):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(0, 255, 255, 0)",this.context.fill(),void this.context.closePath())},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=k?(this.xVelocity=-this.xVelocity,this.x=k):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=l?(this.yVelocity=-this.yVelocity,this.y=l):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(a,b){this.x=a,this.y=b},this.setVelocity=function(a,b){this.xVelocity=a,this.yVelocity=b},this.setImage=function(a){this.image=a}}function c(a,b){return Math.random()*(b-a)+a}function d(){var a=document.getElementById("bg-canvas");if(a.getContext){n=a.getContext("2d");for(var d=0;h>d;++d){var e=new b(n);e.setPosition(c(0,k),c(0,l)),e.setVelocity(c(-i,i),c(-i,i)),g.push(e)}}else alert("Please use a modern browser")}function e(){n.clearRect(0,0,k,l),g.forEach(function(a){a.draw()})}function f(){g.forEach(function(a){a.update()})}var g=[],h=30,i=2,j=33,k=400,l=400,m=new Image;m.onload=function(){g.forEach(function(a){a.setImage(m)})},m.src="img/fog.png";var n;return{fn:function(){console.log("starting misty library."),d(),n&&setInterval(function(){f(),e()},1e3/j)}}}).start("Misty"),$.GUI().create("Stargaze",function(a){var b=function(a,b){function c(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.vx=g.velocity-.5*Math.random(),this.vy=g.velocity-.5*Math.random(),this.radius=Math.random()*g.star.width}var d=$(a)||null,e=a?a.getContext("2d"):null,f={star:{color:"rgba(255, 255, 255, .7)",width:1},line:{color:"rgba(255, 255, 255, .7)",width:.2},position:{x:0,y:0},width:window.innerWidth,height:window.innerHeight,velocity:.1,length:100,distance:100,radius:150,stars:[]},g=$.extend(!0,{},f,b);c.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){var b;for(b=0;b<g.length;b++){var c=g.stars[b];c.y<0||c.y>a.height?(c.vx=c.vx,c.vy=-c.vy):(c.x<0||c.x>a.width)&&(c.vx=-c.vx,c.vy=c.vy),c.x+=c.vx,c.y+=c.vy}},line:function(){var a,b,c,d,f=g.length;for(c=0;f>c;c++)for(d=0;f>d;d++)a=g.stars[c],b=g.stars[d],a.x-b.x<g.distance&&a.y-b.y<g.distance&&a.x-b.x>-g.distance&&a.y-b.y>-g.distance&&a.x-g.position.x<g.radius&&a.y-g.position.y<g.radius&&a.x-g.position.x>-g.radius&&a.y-g.position.y>-g.radius&&(e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke(),e.closePath())}},this.createStars=function(){var b,d,f=g.length;for(e.clearRect(0,0,a.width,a.height),d=0;f>d;d++)g.stars.push(new c),b=g.stars[d],b.create();b.line(),b.animate()},this.setCanvas=function(){a.width=g.width,a.height=g.height},this.setContext=function(){e.fillStyle=g.star.color,e.strokeStyle=g.line.color,e.lineWidth=g.line.width},this.setInitialPosition=function(){b&&b.hasOwnProperty("position")||(g.position={x:.5*a.width,y:.5*a.height})},this.loop=function(a){a(),window.requestAnimationFrame(function(){this.loop(a)}.bind(this))},this.bind=function(){$(document).on("mousemove",function(a){g.position.x=a.pageX-d.offset().left,g.position.y=a.pageY-d.offset().top})},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}};return{fn:function(){var a=arguments[0],c=a[0],d=a[1];return new b(c,d).init()}}}).start("Stargaze"),$.GUI().create("Glisslider",function(a){var b;return b=function(b,c){var d=this,e=b;this.defaults={debug:!1,text:null,style:"random",brand:null,image:null,showing:{extra:null,slider:!0},focused:!0,collection:[],animating:!0,capTime:1500,brandTime:1500,layerTime:1200,slideTime:6500,animationTime:1500,slide:null,start:function(){},stop:function(){},pause:function(){},canvas:null,container:$("#glisslider"),selector:$(".slides > li")},e.opts=a.merge({},d.defaults,c),e.animations={speacial:["hinge","rollIn","rollOut"],lightspeed:["lightSpeedIn","lightSpeedOut"],flip:["flip","flipInX","flipInY","flipOutX","flipOutY"],texts:["lightSpeedIn","flip","rubberBand","zoomIn","rollIn","fadeInDownBig","swing"],attention:["bounce","flash","wobble","pulse","shake","swing","tada","rubberBand"],rotate:["rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight"],fade:["fadeIn","fadeInDown","fadeInDownBig","fadeInUp","fadeInUpBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig"],zoom:["zoomIn","zoomDownIn","zoomUpIn","zoomLeftIn","zoomRightIn","zoomOut","zoomUpOut","zoomDownOut","zoomLeftOut","zoomRightOut"],bounce:["bounceIn","bounceOut","bounceInDown","bounceInUp","bounceInLeft","bounceInRight","bounceOutUp","bounceOutLeft","bounceOutRight","bounceOutDown"]},$.data(b,"Glisslider",e),this.methods={activeIndex:0,animate:function(a,b,c){void 0===c&&(c=e.opts.animationTime||1500),a.show().addClass(b),setTimeout(function(){a.removeClass(b)},c)},setup:function(){return e.data=e.opts.collection||[],$.each($(".item",e),function(a,b){e.data.push(b)})},slide_next:function(){var a=this,b=$(".item.active",e),c=b.next().length?b.next():b.siblings().first(),d=Math.floor(9*Math.random()+0);switch(this.activeIndex==e.data.length-1?this.reset():this.activeIndex++,e.opts.showing.extra&&($(e.opts.showing.extra).css("display","none"),$(e.opts.showing.extra).children("div").css("display","none")),e.opts.style){case"random":b.css("display","none").removeClass("active"),b.children("div").css("display","none"),c.addClass("active"),a.animate(c,e.animations.fade[d]);break;case"fade":b.fadeOut(500).removeClass("active"),c.fadeIn(500).addClass("active");break;case"slide":c.addClass("active"),b.removeClass("active"),b.animate({left:-e.slideWidth},200,function(){$(".slides li:first-child").appendTo(".slides"),$("slides").css("left","0")})}},slide_prev:function(){var a=this,b=$(".item.active",e),c=b.previous().length?b.previous():b.siblings().last(),d=Math.floor(9*Math.random()+0);switch(e.opts.style){case"random":b.css("display","none").removeClass("active"),b.children("div").css("display","none"),c.addClass("active"),a.animate(c,e.animations.fade[d]);break;case"fade":b.fadeOut(500).removeClass("active"),c.fadeIn(500).addClass("active");break;case"slide":e.opts.selector.animate({left:+e.slideWidth},400,function(){$(".slides li:last-child").prependTo(".slides"),$(".slides").css("left","0")})}},layer:function(a){var b=this,c=Math.floor(5*Math.random()+0),d=a.find(".caption"),f=a.find(".brand");b.animate(a,"fadeIn",500),$(e).trigger("slide"),setTimeout(function(){f.show(),b.animate(f,e.animations.rotate[c],e.opts.brandTime),setTimeout(function(){d.show(),b.animate(d,e.animations.texts[c],e.opts.capTime)},e.opts.layerTime)},e.opts.layerTime)},cycle:function(){var a,b=this,c=e.data.length;a=$(e.data[this.activeIndex]),this.activeIndex<c&&e.opts.animating?(this.layer(a),setTimeout(function(){b.slide_next(),b.cycle()},e.opts.slideTime)):e.opts.animating&&(this.reset(),a=$(e.data[this.activeIndex]),this.layer(a),setTimeout(function(){b.slide_next(),b.cycle()},e.opts.slideTime))},bind_events:function(){var a=this;$(e).bind("slide",function(a){a.stopPropagation(),null!==e.opts.slide?"function"==typeof e.opts.slide&&e.opts.slide():e.opts.showing.extra&&$(e.opts.showing.extra).show("slow")}),$(e).bind("start",function(a){a.preventDefault()}),$(e).bind("stop",function(a){a.preventDefault()}),$(".slider-control.right",e).bind("click",function(b){b.preventDefault(),a.slide_next()}),$(".slider-control.left",e).bind("click",function(b){b.preventDefault(),a.slide_prev()}),$(e.opts.container).hover(function(a){a.stopPropagation()},function(){})},reset:function(){this.activeIndex=0},init:function(){console.log("MOSSlider: ",e.opts),this.setup(),this.cycle(),this.bind_events()}},e.start=function(){},e.stop=function(){},e.pause=function(){},e.slide=function(){e.opts.showing.extra&&$(e.opts.showing.extra).show("slow")},e.slideCount=e.opts.selector.length,e.slideWidth=e.opts.selector.width(),e.slideHeight=e.opts.selector.height(),e.sliderUlWidth=e.slideCount*e.slideWidth,this.methods.init()},{fn:function(){}}}),$.GUI().use(function(a){var b;return b=function(a){function b(a){b.__super__.constructor.call(this),this.combine(a),this.set=function(a,c,d){var e;switch(d&&null!==d||(d=!1),typeof a){case"object":for(e in a)v=a[e],this.set(e,v,!0);if(!d)return this.fire(b.CHANGED,function(){var b,c=[];for(b in a)v=a[b],c.push(b);return c}());break;case"string":return"set"!==a&&"get"!==a&&this[a]!==c?(this[a]=c,d||this.fire(b.CHANGED,[a])):"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("key is not a string"),this}}}return utils.extend(b,a),b.prototype.combine=function(a){var b,c;for(b in a)c=a[b],null===this[b]&&(this[b]=c);return this},b.prototype.change=function(a,c){return"function"==typeof a?this.on(b.CHANGED,a,c):0===arguments.length?this.fire(b.CHANGED):void 0},b}(a.Broker),{load:function(a){a.Model=b},unload:function(){}}}),$.GUI().use(function(a){var b;return b=function(){function a(a){return a?this.setModel(a):(this.setModel=function(a){return this.model=a,this.model.change(function(){return this.render()},this)},void(this.render=function(){console.log("Render method called in View.")}))}return a}(),{load:function(a){a.View=b},unload:function(){}}}),$.GUI().use(function(a){function b(){return{routes:[],mode:null,root:"/",config:function(a){return this.mode=a&&a.mode&&"history"==a.mode&&history.pushState?"history":"hash",this.root=a&&a.root?"/"+this.clearSlashes(a.root)+"/":"/",this},getFragment:function(){var a="";if("history"===this.mode)a=this.clearSlashes(decodeURI(location.pathname+location.search)),a=a.replace(/\?(.*)$/,""),a="/"!=this.root?a.replace(this.root,""):a;else{var b=window.location.href.match(/#(.*)$/);a=b?b[1]:""}return this.clearSlashes(a)},clearSlashes:function(a){return a.toString().replace(/\/$/,"").replace(/^\//,"")},add:function(a,b){return"function"==typeof a&&(b=a,a=""),this.routes.push({re:a,handler:b}),this},remove:function(a){for(var b,c=0;c<this.routes.length,b=this.routes[c];c++)if(b.handler===a||b.re.toString()===a.toString())return this.routes.splice(c,1),this;return this},flush:function(){return this.routes=[],this.mode=null,this.root="/",this},check:function(a){for(var b=a||this.getFragment(),c=0;c<this.routes.length;c++){var d=b.match(this.routes[c].re);if(d)return d.shift(),this.routes[c].handler.apply({},d),this}return this},listen:function(){var a=this,b=a.getFragment(),c=function(){b!==a.getFragment()&&(b=a.getFragment(),a.check(b))};return clearInterval(this.interval),this.interval=setInterval(c,50),this},navigate:function(a){return a=a?a:"","history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(a)):(window.location.href.match(/#(.*)$/),window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+a),this}}}function c(a){a.Router=new b}var b;return{load:c,unload:function(){}}});