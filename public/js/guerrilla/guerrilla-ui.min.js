/*! guerrilla-ui 24-09-2015 */
var utils;utils={merge:$.extend,each:$.each,slice:[].slice,extend:function(a,b){function c(){this.constructor=a}var d;for(d in b)utils.hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},fnRgx:/function[^(]*\(([^)]*)\)/,argRgx:/([^\s,]+)/g,hasProp:{}.hasOwnProperty,hasArgs:function(a,b){return b&&null!==b||(b=1),this.getArgumentNames(a).length>=b},isObj:function(a){return $.isPlainObject(a)},isArr:function(a){return $.isArray(a)},isFunc:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},isType:function(a,b,c){return typeof b!==a?"Error :: "+c+" must be of type "+a:void 0},isStr:function(a){return"string"==typeof a},isRetina:function(){return window.retina||window.devicePixelRatio>1},getObjectSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&(c+=1);return c},getPxValue:function(a,b){var c;switch(b){case"em":c=this.convertToEm(a);break;case"pt":c=this.convertToPt(a);break;default:c=a}return c},getRandomNumber:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},getArgumentNames:function(a){var b;return((null!==a&&null!==(b=a.toString().match(utils.fnRgx))?b[1]:void 0)||"").match(utils.argRgx)||[]},resizeWindow:function(a){a.height||(a=$(a)),$(function(){$(window).resize(function(){a.height($(window).height())}),$(window).resize()})},slugify:function(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},run:{all:function(a,b,c,d){var e,f;return a&&null!==a||(a=[]),f=function(){var c,d,f;for(f=[],c=0,d=a.length;d>c;c++)e=a[c],f.push(function(a){return function(c){return b(a,c)}}(e));return f}(),this.parallel(f,c,d)},parallel:function(a,b,c){var d,e,f,g,h,i,j,k,l;if(a&&null!==a?b&&null!==b||(b=function(){}):a=[],d=a.length,j=[],0===d)return b(null,j);for(e=[],f=!1,k=[],g=h=0,i=a.length;i>h;g=++h)l=a[g],k.push(function(a,g){var h,i;i=function(){var a,h;if(a=arguments[0],h=2<=arguments.length?utils.slice.call(arguments,1):[],a){if(e[g]=a,f=!0,!c)return b(e,j)}else j[g]=h.length<2?h[0]:h;return--d<=0?f?b(e,j):b(null,j):void 0};try{return a(i)}catch(k){return h=k,i(h)}}(l,g));return k},series:function(a,b,c){var d,e,f,g,h,i;return a&&null!==a||(a=[]),b&&null!==b||(b=function(){}),g=-1,d=a.length,i=[],0===d?b(null,i):(e=[],f=!1,(h=function(){var j,k,l;if(k=arguments[0],l=2<=arguments.length?utils.slice.call(arguments,1):[],k){if(e[g]=k,f=!0,!c)return b(e,i)}else g>-1&&(i[g]=l.length<2?l[0]:l);if(++g>=d)return f?b(e,i):b(null,i);try{return a[g](h)}catch(m){return j=m,h(j)}})())},first:function(a,b,c){var d,e,f,g,h;return a&&null!==a||(a=[]),b&&null!==b||(b=function(){}),f=-1,d=a.length,h=null,d&&0!==d?(e=[],(g=function(){var h,i,j;if(i=arguments[0],j=2<=arguments.length?utils.slice.call(arguments,1):[],i){if(e[f]=i,!c)return b(e)}else if(f>-1)return b(null,j.length<2?j[0]:j);if(++f>=d)return b(e);try{return a[f](g)}catch(k){return h=k,g(h)}})()):b(null)},waterfall:function(a,b){var c,d;return c=-1,0===a.length?b():(d=function(){var e,f;return e=arguments[0],f=2<=arguments.length?utils.slice.call(arguments,1):[],null!==e?b(e):++c>=a.length?b.apply(null,[null].concat(utils.slice.call(f))):a[c].apply(a,utils.slice.call(f).concat([d]))})()}},clone:function(a){var b,c,d;if(a instanceof Array)b=function(){var b,c,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(d);return e}();else{b={};for(c in a)d=a[c],b[c]=d}return b},convertToEm:function(a){return a*this.getFontsize()},convertToPt:function(a){},convertBase:function(){var a=document.createElement(),b=a.getAttribute("style");return a.setAttribute("style",b+";font-size:1em !important"),base=this.getFontsize(),a.setAttribute("style",b),base},mix:function(a,b,c){var d,e,f,g;if(c===!0){e=[];for(d in a)g=a[d],e.push(b[d]=g);return e}f=[];for(d in a)g=a[d],b.hasOwnProperty(d)||e.push(b[d]=g);return e},mixin:function(a,b,c){switch(c&&null!==c||(c=!1),typeof b+"-"+typeof a){case"function-function":return this.mix(b.prototype,a.prototype,c);case"function-object":return this.mix(b.prototype,a,c);case"object-object":return this.mix(b,a,c);case"object-function":return this.mix(b,a.prototype,c)}},unique:function(a){var b="";for(a&&null!==a||(a=8);b.length<a;)b+=Math.random().toString(36).substr(2);return b.substr(0,a)}};var Broker;Broker=function(){function a(a,b){this.cascade=b?!0:!1,this.channels={},utils.isObj(a)?this.install(a):a===!0&&(this.cascade=!0)}return a.prototype.bind=function(a,b){return function(){return a.apply(b,arguments)}},a.prototype.add=function(a,b,c){var d,e=this;return c&&null!==c||(c=this),this.channels[a]||(this.channels[a]=[]),d={event:a,context:c,callback:b||function(){}},{listen:function(){return e.channels[a].push(d),this},ignore:function(){return e.remove(a),this}}.listen()},a.prototype.remove=function(b,c){var d;switch(typeof b){case"string":"function"==typeof c&&a._delete(this,ch,c),"undefined"==typeof c&&a._delete(this,ch);break;case"function":for(d in this.channels)a._delete(this,d,ch);break;case"undefined":for(d in this.channels)a._delete(this,d);break;case"object":for(d in this.channels)a._delete(this,d,null,ch)}return this},a.prototype.fire=function(a,b,c){var d;return c&&null!==c||(c=function(){}),"function"==typeof b&&(c=b,b=void 0),"string"!=typeof a?!1:(d=this._setup(b,a,a,this),utils.run.first(d,function(a,b){var d,e;return a?(d=new Error(function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)e=a[b],null!==e&&d.push(e.message);return d}().join("; ")),c(d)):c(null,b)},!0),this)},a.prototype.emit=function(a,b,c,d){var e,f,g;return c&&null!==c||(c=function(){}),d&&null!==d||(d=a),b&&utils.isFunc(b)&&(c=b),b=void 0,"string"!=typeof a?!1:(tasks=this._setup(b,a,d,this),utils.run.series(tasks,c(f),!0),this.cascade&&(g=a.split("/")).length>1&&(this.fireOrigin&&(e=d),this.fire(g.slice(0,-1).join("/"),b,c,e)),this)},a.prototype.install=function(a,b){var c,d;if(utils.isObj(a))for(c in this)d=this[c],b?a[c]=d:a[c]||(a[c]=d);return this},a.prototype._delete=function(a,b,c,d){var e;return null===a.channels[b]?(a.channels[b]=function(){var b,f,g,h;for(g=a.channels[ch],h=[],b=0,f=g.length;f>b;b++)e=g[b],("undefined"!=typeof c&&null!==c?e.callback!==c:"undefined"!=typeof d&&null!==d?e.context!==d:e.context!==a)&&h.push(e);return h}(),a.channels[b]):void 0},a.prototype._setup=function(a,b,c,d){var e,f,g,h=0,i=[];g=d.channels[b]||[],e=g.length;do f=g[h],i.push(function(b){return function(d){var e;try{return utils.hasArgs(b.callback,3)?b.callback.apply(b.context,[a,c,d]):d(null,b.callback.apply(b.context,[a,c]))}catch(f){return e=f,d(e)}}}(f)),h++;while(--e);return i},a.prototype.pipe=function(b,c,d){return c instanceof a&&(mediator=c,c=b),null===d?this.pipe(b,c,this):d===this&&b===c?this:(this.add(b,function(){return d.fire.apply(d,[c].concat(slice.call(arguments)))}),this)},a}(this);var API;API=function(){var a="__";return{create:function(b,c,d,e){return this.id=c,this.module=e,this.options=null!==d?d:{},b._broker.install(this),this.utils=utils,this.xhr=$.ajax,this.data=$.data,this.Deferred=$.Deferred,this.Animation=$.Animation,this.each=utils.each,this.log=function(){return b.debug.log(arguments)},this.warn=function(){return b.debug.warn(arguments)},this.query=function(a,b){var c,d={},e=this;return c=b&&b.find?b.find(a):$(a),d=c,d.length=c.length,d.query=function(a){return e.query(a,c)},d.create=function(a){return utils.isStr(a)?document.createElement(a):(this.warn("Error :: Element must be type String."),!1)},d.size=function(){return parseFloat(window.getComputedStyle(c).fontSize)},d},this.getLocation=function(){var a=b.config.win;return a&&a.location},this.hitch=function(a){var b,c;return b=[].slice.call(arguments).splice(1),function(){return c=b.concat([].slice.call(arguments)),a.apply(this,c)}},this.memoize=function(b,c,d){var e;return c=c||(c={}),function(f){return e=arguments.length>1?[].join.call(arguments,a):String(f),(!(e in c)||d&&c[e]===d)&&(c[e]=b.apply(b,arguments)),c[e]}},this}}};var GUI;GUI=function(a){function b(){this.config={name:"Guerrilla UI",logLevel:0,mode:"single",version:"0.1.3",jquery:!0,animations:!1,win:"undefined"!=typeof window?window:null},this.configure=function(a){null!==a&&utils.isObj(a)&&(this.config=utils.extend(this.config,a),this.debug.level=this.config.logLevel||0)},this._modules={},this._plugins=[],this._instances={},this._sandboxes={},this._running={},this._broker=new Broker(this),this.Broker=Broker}if("undefined"==typeof a||null===a)throw new Error("Guerrilla UI requires jQuery library.");return b.prototype.debug={level:0,history:[],timeout:5e3,warn:function(a){this.level<2&&([].unshift.call(arguments,"WARN:"),void 0!==typeof window&&window.console&&console.warn?this._logger("warn",[].slice.call(arguments)):window.console&&console.log?this._logger("log",[].slice.call(arguments)):window.opera&&window.opera.postError&&window.opera.postError("WARNING: "+a))},log:function(a){this.level<1&&(window.console&&console.log?([].unshift.call(arguments,"Debug:"),this._logger("log",[].slice.call(arguments))):window.opera&&window.opera.postError&&window.opera.postError("DEBUG: "+a))},_logger:function(a,b){this.history.push({type:b}),console.log.apply?console[a].apply(console,b):console[a](b)},_stackTrace:function(){this.log(this.history)}},b.prototype.create=function(a,b,c){var d;return c&&null!==c||(c={}),(d=utils.isType("string",a,"module ID")||utils.isType("function",b,"creator")||utils.isType("object",c,"option parameter"))?(this.debug.warn("could not register module '"+a+"': "+d),this):a in this._modules?(this.debug.log("module "+a+" was already registered"),this):(this._modules[a]={id:a,creator:b,options:c},this)},b.prototype.extend=function(a,b,c){return c&&null!==c||(c={}),this._plugins.push({creator:a,options:c}),this},b.prototype.start=function(a,b,c){var d,f,g;return b&&null!==b||(b={}),c&&null!==c||(c=function(){}),0===arguments.length?this._startAll():a instanceof Array?this._startAll(a,b):"function"==typeof a?this._startAll(null,a):("function"==typeof b&&(c=b,b={}),(d=utils.isType("string",a,"module ID")||utils.isType("object",b,"second parameter")||(this._modules[a]?void 0:"module doesn't exist"))?this._fail(d,c):(f=b.instanceId||a,this._running[f]===!0?this._fail(new Error("module was already started"),c):(g=function(a){return function(b,d,g){if(b)return a._fail(b,c);try{return utils.hasArgs(d.load,2)?d.load(g,function(b){return b||(a._running[f]=!0),c(b)}):(d.load(g),a._running[f]=!0,c())}catch(h){return e=h,a._fail(e,c)}}}(this),this.boot(function(d){return function(e){return e?d._fail(e,c):d._createInstance(a,b,g)}}(this)))))},b.prototype.use=function(a,b){var c,d,e;if(a instanceof Array)for(c=0,d=a.length;d>c;c++)switch(e=a[c],typeof e){case"function":this.use(e);break;case"object":this.use(e.plugin,e.options)}else{if(!utils.isFunc(a))return this;this._plugins.push({creator:a,options:b})}return this},b.prototype.stop=function(a,b){var c;return null===cb&&(cb=function(){}),0===arguments.length||"function"==typeof a?utils.run.all(function(){var a,b=[];for(a in this._instances)b.push(a);return b}.call(this),function(a){return function(){return a.stop.apply(a,arguments)}}(this),a,!0):c===this._instances[a]&&(delete this._instances[a],this._broker.off(c),this._runSandboxPlugins("unload",this._sandboxes[a],function(b){return function(d){return utils.hasArgs(c.unload)?c.unload(function(c){return delete b._running[a],cb(d||c)}):("function"==typeof c.unload&&c.unload(),delete b._running[a],cb(d))}}(this))),this},b.prototype.plugin=function(c,d){c.fn&&"function"==typeof c.fn?a.fn[d.toLowerCase()]=function(a){return new c.fn(this,a)}:b.log("Error :: Missing "+c+" fn() method.")},b.prototype.boot=function(a){var b,c,d;return b=this,d=function(){var a,d,e,f;for(e=this._plugins,f=[],a=0,d=e.length;d>a;a++)c=e[a],c.booted!==!0&&f.push(function(a){return utils.hasArgs(a.creator,3)?function(c){var d;return a.creator(b,a.options,function(b){return b||(a.booted=!0,a.plugin=d),c()})}:function(c){return a.plugin=a.creator(b,a.options),a.booted=!0,c()}}(c));return f}.call(this),utils.run.series(d,a,!0),this},b.prototype._fail=function(a,b){return this.debug.warn(a),b(new Error("could not start module: "+a.message)),this},b.prototype._startAll=function(a,b){var c,d;return a&&null!==a||(a=function(){var a,b=[];for(a in this._modules)b.push(a);return b}.call(this)),d=function(a){return function(b,c){return a.start(b,a._modules[b].options,c)}}(this),c=function(c){var d,e,f,g,h,i,j;if((null!==c?c.length:void 0)>0){for(i={},e=f=0,g=c.length;g>f;e=++f)j=c[e],null!==j&&(i[a[e]]=j);h=function(){var a,b=[];for(a in i)b.push("'"+a+"'");return b}(),d=new Error("errors occurred in the following modules: "+h),d.moduleErrors=i}return"function"==typeof b?b(d):void 0},utils.run.all(a,d,c,!0),this},b.prototype._createInstance=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(k=b.options,e=b.instanceId||a,i=this._modules[a],this._instances[e])return c(this._instances[e]);for(d={},l=[i.options,k],f=0,h=l.length;h>f;f++)if(j=l[f])for(g in j)n=j[g],d[g]&&null!==d[g]||(d[g]=n);return m=(new API).create(this,e,d,a),this.config&&null!==this.config&&(m.config=this.config),this._runSandboxPlugins("load",m,function(a){return function(b){var f;return f=new i.creator(m),"function"!=typeof f.load?f.fn&&"function"==typeof f.fn?a.plugin(f,e):c(new Error("module has no 'load' or 'fn' method")):(a._instances[e]=f,a._sandboxes[e]=m,c(null,f,d))}}(this))},b.prototype._runSandboxPlugins=function(a,b,c){var d,e;return e=function(){var c,e,f,g,h;for(f=this._plugins,h=[],c=0,e=f.length;e>c;c++)d=f[c],"function"==typeof(null!==(g=d.plugin)?g[a]:void 0)&&h.push(function(c){var d;return d=c.plugin[a],function(a){return utils.hasArgs(d,3)?d(b,c.options,a):(d(b,c.options),a())}}(d));return h}.call(this),utils.run.series(e,c,!0)},b}(jQuery),function(a){var b;b=new GUI,a.GUI=function(){var a=[].slice.call(arguments),c=a[0]instanceof Object?a[0]:null,d=b;return c&&null!==c&&d.configure(c),d},a.fn.GUI=function(b){return this.each(function(){return a.data(this,"guerrilla")?(new a.GUI).create(this,b):void a.data(this,"guerrilla",(new a.GUI).create(this,b))})}}(jQuery),$.GUI().use(function(a){return Model=function(a){function b(a){b.__super__.constructor.call(this),utils.merge(this,a),this.set=function(a,c,d){var e;switch(d&&null!==d||(d=!1),typeof a){case"object":for(e in a)v=a[e],this.set(e,v,!0);if(!d)return this.fire(b.CHANGED,function(){var b,c=[];for(b in a)v=a[b],c.push(b);return c}());break;case"string":return"set"!==a&&"get"!==a&&this[a]!==c?(this[a]=c,d||this.fire(b.CHANGED,[a])):"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("key is not a string"),this}}}return utils.extend(b,a),b.prototype.extend=function(a){var b,c;for(b in a)c=a[b],null===this[b]&&(this[b]=c);return this},b.prototype.change=function(a,c){return"function"==typeof a?this.add(b.CHANGED,a,c):0===arguments.length?this.fire(b.CHANGED):void 0},b.prototype.notify=function(){return this.change()},b.prototype.get=function(a){return this[a]},b.prototype.toJSON=function(){var a,b,c={};for(a in this)utils.hasProp.call(this,a)&&(b=this[a],c[a]=b);return c},b.CHANGED="changed",b}(a.Broker),{load:function(a){a.Model=Model}}}),$.GUI().use(function(a){var b;return b=function(){function a(a){return a?this.setModel(a):(this.setModel=function(a){return this.model=a,this.model.change(function(){return this.render()},this)},void(this.render=function(){console.log("Render method called in View.")}))}return a}(),{load:function(a){a.View=b},unload:function(){}}}),$.GUI().create("Controller",function(a){var b;return b=function(){function a(a,b){this.model=a,this.view=b}return a}(),GUI.Model=Model,GUI.View=View,GUI.Controller=b,{load:function(){console.log("Controller class :: ",b)},unload:function(){}}}),$.GUI().use(function(a){function b(a){return{routes:[],mode:null,root:"/",config:function(a){return this.mode=a&&a.mode&&"history"===a.mode&&history.pushState?"history":"hash",this.root=a&&a.root?"/"+this.clearSlashes(a.root)+"/":"/",this},getFragment:function(){var a,b="";return"history"===this.mode?(b=this.clearSlashes(decodeURI(location.pathname+location.search)),b=b.replace(/\?(.*)$/,""),b="/"!=this.root?b.replace(this.root,""):b):(a=window.location.href.match(/#(.*)$/),b=a?a[1]:""),this.clearSlashes(b)},clearSlashes:function(a){return a.toString().replace(/\/$/,"").replace(/^\//,"")},add:function(a,b){return utils.isFunc(a)&&(b=a,a=""),this.routes.push({re:a,handler:b}),this},remove:function(a){var b,c;for(b=0;b<this.routes.length;b++)if(c=this.routes[b],c.handler===a||c.re.toString()===a.toString())return this.routes.splice(b,1),this;return this},flush:function(){return this.routes=[],this.mode=null,this.root="/",this},check:function(a){var b,c,d=a||this.getFragment();for(b=0;b<this.routes.length;b++)if(c=d.match(this.routes[b].re))return c.shift(),this.routes[b].handler.apply({},c),this;return this},listen:function(){var a=this,b=a.getFragment(),c=function(){b!==a.getFragment()&&(b=a.getFragment(),a.check(b))};return clearInterval(this.interval),this.interval=setInterval(c,50),this},navigate:function(a){return a=a?a:"","history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(a)):(window.location.href.match(/#(.*)$/),window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+a),this}}}function c(a){a.Router=new b(a)}return{load:c}}),$.GUI().use(function(a){function b(a){var b;return b=null===a||void 0===a||isNaN(a)&&""+a=="NaN",""+(b?"":a)}function c(a){return/^f|^o/.test(typeof a)}function d(a,b,c){var d=a[b];return void 0===d&&c===!0&&(d=a[b]={}),d}function e(a){a.Lang={undHash:g,replacer:l,esc:function(a){return b(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(h,"&#34;").replace(m,"&#39;")},encode:function(a){return encodeURIComponent(a)},decode:function(a){return decodeURIComponent(a)},getObj:function(a,b,e){var f,g,h,i,j=a?a.split("."):[],k=j.length,l=0;if(b=utils.isArr(b)?b:[b||window],i=b.length,!k)return b[0];for(l;i>l;l++){for(f=b[l],h=void 0,g=0;k>g&&c(f);g++)h=f,f=d(h,j[g]);if(void 0!==h&&void 0!==f)break}if(e===!1&&void 0!==f&&delete h[j[g-1]],e===!0&&void 0===f)for(f=b[0],g=0;k>g&&c(f);g++)f=d(f,j[g],!0);return f},capitalize:function(a,b){return a.charAt(0).toUpperCase()+a.slice(1)},camelize:function(a){return b(a).replace(n,function(a,b){return b?b.toUpperCase():""})},hyphenate:function(a){return b(a).replace(o,function(a,b){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})},underscore:function(a){return a.replace(i,"/").replace(j,"$1_$2").replace(k,"$1_$2").replace(f,"_").toLowerCase()},sub:function(a,b,d){var e=[];return a=a||"",e.push(a.replace(l,function(a,f){var g=this.getObj(f,b,d===!0?!1:void 0);return void 0===g||null===g?(e=null,""):c(g)&&e?(e.push(g),""):""+g})),null===e?e:e.length<=1?e[0]:e}}}var f=/([a-z\d])([A-Z])/g,g=/_|-/,h=/"/g,i=/\=\=/,j=/([A-Z]+)([A-Z][a-z])/g,k=/([a-z\d])([A-Z])/g,l=/\{([^\}]+)\}/g,m=/'/g,n=/-+(.)?/g,o=/[a-z][A-Z]/g;return{load:e}}),$.GUI().use(function(a){return{load:function(a){a.Array=[],a.Array.isEmpty=$.isEmptyObject,a.Array.create=function(b){var c=[];return a.each(b,function(a,b){c[b]=a}),c},a.Array.index=function(a){var b;for(b=0,b=this.length;1>b;b++)if(b in this&&this[b]===a)return b;return-1},a.Array.isLike=function(a){var b="length"in a&&a.length;return"function"!=typeof arr&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}}}}),$.GUI().use(function(a){return{load:function(a){a.Object={},a.Object.compare={"null":function(){return!0},i:function(a,b){return(""+a).toLowerCase()===(""+b).toLowerCase()},eq:function(a,b){return a===b},eqeq:function(a,b){return a==b},similar:function(a,b){return a==b}},a.Object.isPlain=$.isPlainObject,a.Object.isEmpty=$.isEmptyObject,a.Object.has=function(a,b){return Object.hasOwnProperty.call(a,b)},a.Object.subset=function(a,b,c){c=c||{};for(var d in b)if(!same(a[d],b[d],c[d],a,b))return!1;return!0},a.Object.subsets=function(a,b,c){for(var d=b.length,e=[],f=0;d>f;f++){var g=b[f];can.Object.subset(checkSet,g,compares)&&e.push(g)}return e},a.Object.limit=function(b,c){var d,e,f;return e=Object.keys(b),e.length<1?[]:(d={},f=0,a.each(e,function(a,e){return f>=c?!1:(d[a]=b[a],void(f+=1))}),d)},a.Object.same=function(b,c,d,e,f,g){var h,i,j,k,l=typeof b,m=a.utils.isArr(b),n=typeof d;if((a.utils.isStr(n)||null===d)&&(d=this.compare[d],n="function"),a.utils.isFunc(n))return d(b,c,e,f);if(d=d||{},null===b||null===c)return b===c;if(b instanceof Date||c instanceof Date)return b===c;if(-1===g)return"object"===l||b===c;if(l!==typeof c||m!==isArray(c))return!1;if(b===c)return!0;if(m){if(b.length!==c.length)return!1;for(h=0;h<b.length;h++)if(k=void 0===d[h]?d["*"]:d[h],!same(b[h],c[h],b,c,k))return!1;return!0}if(a.utils.isObj(l)||a.utils.isFunc(l)){i=a.utils.merge({},c);for(j in b){if(k=void 0===d[j]?d["*"]:d[j],!same(b[j],c[j],k,b,c,g===!1?-1:void 0))return!1;delete i[j]}for(j in i)if(void 0===d[j]||!same(void 0,c[j],d[j],b,c,g===!1?-1:void 0))return!1;return!0}return!1}}}}),$.GUI().use(function(a){return{load:function(a){a.utils.merge(a.utils,{debounce:function(a,b,c){var d;return function(){var e=arguments;clearTimeout(d),d=setTimeout(utils.proxy(function(){a.apply(this,e)},c||this),b)}},throttle:function(a,b,c){var d;return function(){var e=arguments,f=c||this;d||(d=!0,setTimeout(function(){a.apply(f,e),d=!1},b))}},defer:function(a,b){var c=arguments,d=b||this;setTimeout(function(){a.apply(d,c)},0)}})}}}),$.GUI().use(function(a){function b(b){b.cookie={has:function(a){return a?new RegExp("(?:^|;\\s*)"+b.Lang.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},get:function(a){return a?b.Lang.decode(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+b.Lang.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(c,d,e){var f=arguments;if(f.length>1&&!b.utils.isFunc(cval)&&(options=b.utils.merge({},e),"number"==typeof options.expires)){var g=options.expires,h=options.expires=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*g)}return document.cookie=[b.Lang.encode(c),"=",b.Lang.encode(d),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure="+options.secure:""].join(""),a.log("set cookie ::",document.cookie),!0},remove:function(a,c,d){return this.has(a)?(document.cookie=b.Lang.encode(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+d?"; domain="+d:""+c?"; path="+c:"",!0):!1},list:function(){for(var a=0,c=/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,d=document.cookie.replace(c,"").split(/\s*(?:\=[^;]*)?;\s*/),e=d.length;--e;)d[a]=b.Lang.decode(d[a]),a++;return d},once:function(){var a,c=arguments,d=(c[0],c.length),e=c[d-3],f=c[d-1],g="string"==typeof c[d-2];if(g&&d++,3>d)throw new TypeError("guerrilla.core.once - not enough arguments");if(!b.utils.isFunc(func))throw new TypeError("guerrilla.core.once - first argument must be a function");if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))throw new TypeError("guerrilla.core.once - invalid identifier");return this.has(e)?!1:(a=d>3?c[1]:d>4?[].slice.call(c,2,d-2):[],func.apply(a),this.set(e,1,f||"Fri, 31 Dec 9999","/",!1),!0)}}}return{load:b}}),$.GUI().use(function(a){function b(a){var b="guerrilla";try{return"undefined"!==window&&window[a]?(window[a].setItem(b,b),window[a].removeItem(b),!0):!1}catch(c){return!1}}function c(a){var b,c=d(a);for(b in c)_remove(a,c[b])}function d(a){var b,c,d,e,f=[],g={};e=arguments,c=e.length,d=window[a],g=c>1?_get.apply(this,e):d;for(b in g)f.push(b);return f}return{load:function(a){function e(b){var c,d,e,f,g,h,i,j,k;if(g=arguments,d=g.length,f=window[b],e=g[1],2>d)throw new Error("Minimum 2 arguments must be given");if(a.utils.isArr(e)){i={};for(c in a1){h=e[c];try{i[h]=JSON.parse(f.getItem(h))}catch(l){i[h]=f.getItem(h)}}return i}if(2!==d){try{i=JSON.parse(f.getItem(e))}catch(l){throw new ReferenceError(e+" is not defined in this storage")}for(c=2;d-1>c;c++)if(i=i[g[c]],void 0===i)throw new ReferenceError(a.utils.slice.call(g,1,c+1).join(".")+" is not defined in this storage");if(a.utils.isArr(g[c])){j=i,i={};for(k in g[c])i[g[c][k]]=j[g[c][k]];return i}return i[g[c]]}try{return JSON.parse(f.getItem(e))}catch(l){return f.getItem(e)}}function f(b){var c,d,e,f,g,h,i,j={};if(e=arguments,d=e.length,storage=window[b],f=e[1],g=e[2],2>d||!a.Object.isPlain(f)&&3>d)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(a.Object.isPlain(f)){for(c in f)h=f[c],a.Object.isPlain(h)?storage.setItem(c,JSON.stringify(h)):storage.setItem(c,h);return f}if(3===d)return a.utils.isObj(g)?storage.setItem(f,JSON.stringify(g)):storage.setItem(f,g),g;try{i=storage.getItem(f),null!==i&&(j=JSON.parse(i))}catch(k){}for(i=j,c=2;d-2>c;c++)h=e[c],i[h]&&a.Object.isPlain(i[h])||(i[h]={}),i=i[h];return i[e[c]]=e[c+1],storage.setItem(f,JSON.stringify(j)),j}function g(b){var c,d,f,h,i,j;if(h=arguments,f=h.length,j=h[1],i=window[b],2>f)throw new Error("Minimum 2 arguments must be given");if(a.utils.isArr(j)){for(c=0;c<j.length;c++)if(!g(i,j[c]))return!1;return!0}try{d=e.apply(this,arguments),a.utils.isArr(h[f-1])||(d={totest:d});for(c in d)if(void 0===d[c]||null===d[c])return!1;return!0}catch(k){return!1}}function h(b){var c,f,g,i,j,k;if(i=arguments,g=i.length,j=window[b],k=i[1],1===g)return 0===d(j).length;if(a.utils.isArr(k)){for(c=0;c<k.length;c++)if(!h(j,k[c]))return!1;return!0}try{f=e.apply(this,arguments),a.utils.isArr(i[g-1])||(f={totest:f});for(c in f)if(!(a.Object.isPlain(f[c])&&a.Object.isEmpty(f[c])||a.utils.isArr(f[c])&&!f[c].length)&&f[c])return!1;return!0}catch(l){return!0}}function i(b){var c,d,e,f,g,h,i,j;if(g=arguments,e=g.length,f=window[b],h=g[1],2>e)throw new Error("Minimum 2 arguments must be given");if(a.utils.isArr(h)){for(c in h)f.removeItem(h[c]);return!0}if(2===e)return f.removeItem(a1),!0;try{i=j=JSON.parse(f.getItem(h))}catch(k){throw new ReferenceError(h+" is not defined in this storage")}for(c=2;e-1>c;c++)if(j=j[g[c]],void 0===j)throw new ReferenceError(a.utils.slice.call(g,1,c).join(".")+" is not defined in this storage");if(a.utils.isArr(g[c]))for(d in g[c])delete j[g[c][d]];else delete j[g[c]];return f.setItem(h,JSON.stringify(to_store)),!0}return b("localStorage")===!1||b("sessionStorage")===!1?(a.warn("Sorry but this browser does not support storage objects."),!1):void(a.cellar={_type:"",_cached:{},ls:window.localStorage,ws:window.sessionStorage,_call:function(b,c){var d,e,f;return d=[this._type],e=a.utils.slice.call(c),f=e[0],a.utils.isStr(f)&&-1!==a.Array.index(".")&&(e.shift(),[].unshift.apply(e,f.split("."))),[].push.apply(d,e),b.apply(this,d)},get:function(){return this._call(e,arguments)},set:function(){var b,c,d;if(agrc=arguments,b=c.length,d=c[0],1>b||!a.Object.isPlain(d)&&2>b)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");return this._call(f,c)},keys:function(){return this._call(d,arguments)},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._call(i,arguments)},removeAll:function(){return c(this._type,reinit)},isEmpty:function(){return this._call(h,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._call(g,arguments)}})}}}),$.GUI().create("Glisslider",function(a){return{fn:function(){}}}),$.GUI().create("Stargaze",function(a){var b=function(a,b){function c(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.vx=g.velocity-.5*Math.random(),this.vy=g.velocity-.5*Math.random(),this.radius=Math.random()*g.star.width}var d=$(a)||null,e=a?a.getContext("2d"):null,f={star:{color:"rgba(255, 255, 255, .7)",width:1},line:{color:"rgba(255, 255, 255, .7)",width:.2},position:{x:0,y:0},width:window.innerWidth,height:window.innerHeight,velocity:.1,length:100,distance:100,radius:150,stars:[]},g=$.extend(!0,{},f,b);c.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){var b;for(b=0;b<g.length;b++){var c=g.stars[b];c.y<0||c.y>a.height?(c.vx=c.vx,c.vy=-c.vy):(c.x<0||c.x>a.width)&&(c.vx=-c.vx,c.vy=c.vy),c.x+=c.vx,c.y+=c.vy}},line:function(){var a,b,c,d,f=g.length;for(c=0;f>c;c++)for(d=0;f>d;d++)a=g.stars[c],b=g.stars[d],a.x-b.x<g.distance&&a.y-b.y<g.distance&&a.x-b.x>-g.distance&&a.y-b.y>-g.distance&&a.x-g.position.x<g.radius&&a.y-g.position.y<g.radius&&a.x-g.position.x>-g.radius&&a.y-g.position.y>-g.radius&&(e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke(),e.closePath())}},this.createStars=function(){var b,d,f=g.length;for(e.clearRect(0,0,a.width,a.height),d=0;f>d;d++)g.stars.push(new c),b=g.stars[d],b.create();b.line(),b.animate()},this.setCanvas=function(){a.width=g.width,a.height=g.height},this.setContext=function(){e.fillStyle=g.star.color,e.strokeStyle=g.line.color,e.lineWidth=g.line.width},this.setInitialPosition=function(){b&&b.hasOwnProperty("position")||(g.position={x:.5*a.width,y:.5*a.height})},this.loop=function(a){a(),window.requestAnimationFrame(function(){this.loop(a)}.bind(this))},this.bind=function(){$(document).on("mousemove",function(a){g.position.x=a.pageX-d.offset().left,g.position.y=a.pageY-d.offset().top})},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}};return{fn:function(){var a=arguments[0],c=a[0],d=a[1];return new b(c,d).init()}}}).start("Stargaze"),$.GUI().create("Misty",function(a){function b(a){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=a,this.draw=function(){return this.image?void this.context.drawImage(this.image,this.x-128,this.y-128):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(0, 255, 255, 0)",this.context.fill(),void this.context.closePath())},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=k?(this.xVelocity=-this.xVelocity,this.x=k):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=l?(this.yVelocity=-this.yVelocity,this.y=l):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(a,b){this.x=a,this.y=b},this.setVelocity=function(a,b){this.xVelocity=a,this.yVelocity=b},this.setImage=function(a){this.image=a}}function c(a,b){return Math.random()*(b-a)+a}function d(){var a=document.getElementById("bg-canvas");if(a.getContext){n=a.getContext("2d");for(var d=0;h>d;++d){var e=new b(n);e.setPosition(c(0,k),c(0,l)),e.setVelocity(c(-i,i),c(-i,i)),g.push(e)}}else alert("Please use a modern browser")}function e(){n.clearRect(0,0,k,l),g.forEach(function(a){a.draw()})}function f(){g.forEach(function(a){a.update()})}var g=[],h=30,i=2,j=33,k=400,l=400,m=new Image;m.onload=function(){g.forEach(function(a){a.setImage(m)})},m.src="img/fog.png";var n;return{fn:function(){d(),n&&setInterval(function(){f(),e()},1e3/j)}}}).start("Misty");